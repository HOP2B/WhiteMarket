(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{1898:(e,s,r)=>{"use strict";r.d(s,{A:()=>m});var t=r(7876),a=r(4232),l=r(8230),i=r.n(l),n=r(8070),c=r(7279),d=r(4525),o=r(9099);let x=()=>{let{notifications:e,unreadCount:s,isLoading:r,markAsRead:a,markAllAsRead:l,deleteNotification:i,showNotifications:n,toggleNotifications:d}=(0,c.E)(),x=(0,o.useRouter)(),m=async e=>{e.read||await a(e.id),e.actionUrl&&x.push(e.actionUrl),d()};return n?(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Мэдэгдэл"}),s>0&&(0,t.jsx)("button",{onClick:l,className:"text-sm text-green-600 hover:text-green-700",children:"Бүгдийг уншсан болгох"})]})}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:r?(0,t.jsx)("div",{className:"p-4 text-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-green-600 mx-auto"})}):e.length>0?e.map(e=>(0,t.jsx)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50"),onClick:()=>m(e),children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"order":return"\uD83D\uDCE6";case"message":return"\uD83D\uDCAC";case"payment":return"\uD83D\uDCB3";case"system":return"\uD83D\uDD14";default:return"\uD83D\uDCE2"}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),!e.read&&(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(e=>{let s=new Date,r=new Date(e),t=Math.floor((s.getTime()-r.getTime())/6e4);if(t<1)return"Дөнгөж сая";if(t<60)return"".concat(t," мин өмнө");let a=Math.floor(t/60);if(a<24)return"".concat(a," цаг өмнө");let l=Math.floor(a/24);return l<7?"".concat(l," өдөр өмнө"):r.toLocaleDateString("mn-MN")})(e.createdAt)})]}),(0,t.jsx)("button",{onClick:s=>{s.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-red-600 text-sm p-1",title:"Устгах",children:"✕"})]})},e.id)):(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDD14"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Мэдэгдэл байхгүй байна"})]})}),e.length>0&&(0,t.jsx)("div",{className:"p-3 border-t border-gray-200 text-center",children:(0,t.jsx)("button",{onClick:()=>{x.push("/notifications"),d()},className:"text-sm text-green-600 hover:text-green-700",children:"Бүх мэдэгдлийг харах"})})]}):null},m=()=>{let{user:e}=(0,n.A)(),{unreadCount:s,toggleNotifications:r}=(0,c.E)(),[l,o]=(0,a.useState)(!1);return(0,t.jsx)("nav",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-50 backdrop-blur-sm bg-opacity-95 transition-all duration-300",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16 lg:grid lg:grid-cols-3 lg:items-center",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(i(),{href:"/",className:"flex items-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-gradient",children:"White Market"})})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"flex items-center hidden md:block",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search services...",className:"input-field pl-10 pr-4 py-2 w-64"}),(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e?(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(i(),{href:"/jobs",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Үйлчилгээ"}),(0,t.jsx)(i(),{href:"/dashboard",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Dashboard"}),(0,t.jsx)(i(),{href:"/messages",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Messages"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:r,className:"relative p-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200",title:"Мэдэгдэл",children:[(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDD14"}),s>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse-subtle",children:s>9?"9+":s})]}),(0,t.jsx)(x,{})]}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)(d.uF,{appearance:{elements:{avatarBox:"w-8 h-8 border-2 border-blue-600",userButtonTrigger:"p-1"}}})})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i(),{href:"/login",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Login"}),(0,t.jsx)(i(),{href:"/register",className:"btn-primary px-6 py-2 text-sm",children:"Sign Up"})]})]})]})})})}},3108:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs",function(){return r(5232)}])},5232:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(7876),a=r(4232),l=r(9099),i=r(1898),n=r(9252);let c=()=>{let e=(0,l.useRouter)(),[s,r]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[o,x]=(0,a.useState)(!0),[m,u]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[b,p]=(0,a.useState)({min:"",max:""}),[j,v]=(0,a.useState)("newest"),[N,y]=(0,a.useState)(""),f=async()=>{try{let[e,s]=await Promise.all([(0,n.Dw)("",{}),(0,n.bW)()]);r(e),d(s),x(!1)}catch(e){console.error("Error fetching data:",e),x(!1)}};(0,a.useEffect)(()=>{f()},[]),(0,a.useEffect)(()=>{let e=()=>{f()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);let w=async()=>{x(!0);try{let e={category:h,minPrice:b.min?parseInt(b.min):void 0,maxPrice:b.max?parseInt(b.max):void 0,minRating:N?parseInt(N):void 0,sortBy:j},s=await (0,n.Dw)(m,e);r(s)}catch(e){console.error("Error searching gigs:",e)}finally{x(!1)}},M=()=>{u(""),g(""),p({min:"",max:""}),v("relevance"),y(""),w()};return o&&0===s.length?(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100",children:[(0,t.jsx)(i.A,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-blue-200 p-6 mb-8 animate-slide-in-up",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Search"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Service name...",className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[(0,t.jsx)("option",{value:"",children:"All"}),c.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.name," (",e.count,")"]},e.name))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Range"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"Min",value:b.min,onChange:e=>p({...b,min:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("input",{type:"number",placeholder:"Max",value:b.max,onChange:e=>p({...b,max:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Rating"}),(0,t.jsxs)("select",{value:N,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"All"}),(0,t.jsx)("option",{value:"4",children:"4+ од"}),(0,t.jsx)("option",{value:"3",children:"3+ од"}),(0,t.jsx)("option",{value:"2",children:"2+ од"}),(0,t.jsx)("option",{value:"1",children:"1+ од"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"relevance",children:"Relevance"}),(0,t.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,t.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,t.jsx)("option",{value:"rating",children:"Rating"}),(0,t.jsx)("option",{value:"newest",children:"Newest"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:M,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Clear Filters"}),(0,t.jsx)("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Search"})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("p",{className:"text-gray-600",children:[s.length," services found"]})}),o?(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):s.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(s=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>e.push("/gigs/".concat(s.id)),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("img",{src:s.userAvatar||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNFNUU3RUIiLz4KPHBhdGggZD0iTTIwIDIwQzIyLjc2MTQgMjAgMjUgMTcuNzYxNCAyNSAxNUMyNSAxMi4yMzg2IDIyLjc2MTQgMTAgMjAgMTBDMTcuMjM4NiAxMCAxNSAxMi4yMzg2IDE1IDE1QzE1IDE3Ljc2MTQgMTcuNzYxNCAyMCAyMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHBhdGggZD0iTTMwIDI4QzMwIDI0LjY4NjMgMjYuNDI3MSAyMiAyMiAyMkgxOEMxMy41NzI5IDIyIDEwIDI0LjY4NjMgMTAgMjhWMzBIMzBWMjhaIiBmaWxsPSIjOUNBNEFGIi8+Cjwvc3ZnPgo=",alt:s.userName,className:"w-10 h-10 rounded-full mr-3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:s.userName}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-yellow-500 text-sm",children:"★"}),(0,t.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:[s.rating," (",s.reviews,")"]})]})]})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:s.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:s.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:s.category}),(0,t.jsxs)("span",{className:"text-xl font-bold text-blue-600",children:["₮",s.price.toLocaleString()]})]})]})},s.id))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No services match your search"}),(0,t.jsx)("button",{onClick:M,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Clear Filters"})]})]})]})}}},e=>{e.O(0,[230,636,593,792],()=>e(e.s=3108)),_N_E=e.O()}]);