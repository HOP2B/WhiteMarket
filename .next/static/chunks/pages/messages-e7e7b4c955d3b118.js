(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{124:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/messages",function(){return t(8108)}])},1898:(e,s,t)=>{"use strict";t.d(s,{A:()=>m});var r=t(7876),a=t(4232),l=t(8230),i=t.n(l),n=t(8070),d=t(7279),c=t(4525),o=t(9099);let x=()=>{let{notifications:e,unreadCount:s,isLoading:t,markAsRead:a,markAllAsRead:l,deleteNotification:i,showNotifications:n,toggleNotifications:c}=(0,d.E)(),x=(0,o.useRouter)(),m=async e=>{e.read||await a(e.id),e.actionUrl&&x.push(e.actionUrl),c()};return n?(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Мэдэгдэл"}),s>0&&(0,r.jsx)("button",{onClick:l,className:"text-sm text-green-600 hover:text-green-700",children:"Бүгдийг уншсан болгох"})]})}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:t?(0,r.jsx)("div",{className:"p-4 text-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-green-600 mx-auto"})}):e.length>0?e.map(e=>(0,r.jsx)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50"),onClick:()=>m(e),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"order":return"\uD83D\uDCE6";case"message":return"\uD83D\uDCAC";case"payment":return"\uD83D\uDCB3";case"system":return"\uD83D\uDD14";default:return"\uD83D\uDCE2"}})(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),!e.read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(e=>{let s=new Date,t=new Date(e),r=Math.floor((s.getTime()-t.getTime())/6e4);if(r<1)return"Дөнгөж сая";if(r<60)return"".concat(r," мин өмнө");let a=Math.floor(r/60);if(a<24)return"".concat(a," цаг өмнө");let l=Math.floor(a/24);return l<7?"".concat(l," өдөр өмнө"):t.toLocaleDateString("mn-MN")})(e.createdAt)})]}),(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-red-600 text-sm p-1",title:"Устгах",children:"✕"})]})},e.id)):(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDD14"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Мэдэгдэл байхгүй байна"})]})}),e.length>0&&(0,r.jsx)("div",{className:"p-3 border-t border-gray-200 text-center",children:(0,r.jsx)("button",{onClick:()=>{x.push("/notifications"),c()},className:"text-sm text-green-600 hover:text-green-700",children:"Бүх мэдэгдлийг харах"})})]}):null},m=()=>{let{user:e}=(0,n.A)(),{unreadCount:s,toggleNotifications:t}=(0,d.E)(),[l,o]=(0,a.useState)(!1);return(0,r.jsx)("nav",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-50 backdrop-blur-sm bg-opacity-95 transition-all duration-300",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16 lg:grid lg:grid-cols-3 lg:items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i(),{href:"/",className:"flex items-center",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-gradient",children:"White Market"})})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex items-center hidden md:block",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search services...",className:"input-field pl-10 pr-4 py-2 w-64"}),(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e?(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(i(),{href:"/jobs",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Үйлчилгээ"}),(0,r.jsx)(i(),{href:"/dashboard",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Dashboard"}),(0,r.jsx)(i(),{href:"/messages",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Messages"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:t,className:"relative p-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200",title:"Мэдэгдэл",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDD14"}),s>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse-subtle",children:s>9?"9+":s})]}),(0,r.jsx)(x,{})]}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)(c.uF,{appearance:{elements:{avatarBox:"w-8 h-8 border-2 border-blue-600",userButtonTrigger:"p-1"}}})})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(i(),{href:"/login",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Login"}),(0,r.jsx)(i(),{href:"/register",className:"btn-primary px-6 py-2 text-sm",children:"Sign Up"})]})]})]})})})}},8108:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(7876),a=t(4232),l=t(9099),i=t(1898),n=t(8070),d=t(7279),c=t(9252),o=t(6271);let x=()=>{var e;let{user:s}=(0,n.A)(),{addNotification:t}=(0,d.E)(),{contact:x}=(0,l.useRouter)().query,[m,u]=(0,a.useState)([]),[h,g]=(0,a.useState)(!0),[b,j]=(0,a.useState)(""),[N,p]=(0,a.useState)(null),[v,f]=(0,a.useState)({}),[y,w]=(0,a.useState)(null),[I,M]=(0,a.useState)({}),[D,A]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[T,E]=(0,a.useState)([]),[z,k]=(0,a.useState)(!1),[L,U]=(0,a.useState)(!1),[Z,B]=(0,a.useState)(!1),G=(0,a.useRef)(null),P=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(s){(async()=>{try{let e=await (0,c.VL)(s.id);u(e);let t=Array.from(new Set(e.map(e=>e.senderId===s.id?e.receiverId:e.senderId))),r=t.map(e=>(0,c.kl)(e)),a=await Promise.all(r),l={};a.forEach((e,s)=>{l[t[s]]=e}),f(l),g(!1)}catch(e){console.error("Error fetching messages:",e),g(!1)}})();let e=o.N.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},e=>{let r=e.new,a={id:r.id,senderId:r.sender_id,receiverId:r.receiver_id,content:r.content,timestamp:r.timestamp,status:r.status||"sent",file:r.file};if((a.senderId===s.id||a.receiverId===s.id)&&(u(e=>[...e,a]),a.senderId!==s.id&&N!==a.senderId)){let e=v[a.senderId];t({type:"message",title:"New message from ".concat((null==e?void 0:e.name)||"Unknown"),message:a.content||"Sent a file",actionUrl:"/messages?contact=".concat(a.senderId)})}}).subscribe();return()=>{e.unsubscribe()}}},[s]),(0,a.useEffect)(()=>{x&&"string"==typeof x&&p(x)},[x]),(0,a.useEffect)(()=>{if(N&&s){let e=m.filter(e=>e.receiverId===s.id&&e.senderId===N&&"read"!==e.status);if(e.length>0){let s=e.map(e=>e.id);(0,c.iS)(s).catch(console.error),u(e=>e.map(e=>s.includes(e.id)?{...e,status:"read"}:e))}}},[N,m,s]);let Q=async()=>{if((b.trim()||y)&&s&&N)try{let e={id:Date.now().toString(),senderId:s.id,receiverId:N,content:b,timestamp:new Date().toISOString(),status:"sent"};y&&(e.file={name:y.name,size:y.size,type:y.type,url:URL.createObjectURL(y)});let t=await (0,c._z)(e);u([...m,t]),j(""),w(null),U(!1),P.current&&clearTimeout(P.current)}catch(e){console.error("Error sending message:",e)}};(0,a.useEffect)(()=>{(()=>{var e;null==(e=G.current)||e.scrollIntoView({behavior:"smooth"})})()},[m,N]);let _=Array.from(new Set(m.map(e=>e.senderId===(null==s?void 0:s.id)?e.receiverId:e.senderId))).filter(e=>{var s;let t=v[e];return!D||(null==t||null==(s=t.name)?void 0:s.toLowerCase().includes(D.toLowerCase()))}),W=async e=>{if(e.trim().length<2)return void E([]);try{let t=await (0,c.x5)(e);E(t.filter(e=>e.id!==(null==s?void 0:s.id)))}catch(e){console.error("Error searching users:",e),E([])}};return h?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen bg-white",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):s?(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(i.A,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-blue-800 mb-8 animate-fade-in",children:"Messages"}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsxs)("div",{className:"lg:w-1/4 bg-white rounded-xl shadow-lg border border-blue-100 overflow-hidden animate-slide-in-left",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-blue-200 bg-blue-50",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-blue-800",children:z?"Search Users":"Conversations"}),(0,r.jsx)("button",{onClick:()=>{k(!z),S(""),E([])},className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors duration-200 hover:scale-105",children:z?"Back to Conversations":"Search Users"})]}),z?(0,r.jsx)("input",{type:"text",placeholder:"Search users by name...",value:C,onChange:e=>{S(e.target.value),W(e.target.value)},className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}):(0,r.jsx)("input",{type:"text",placeholder:"Хайх...",value:D,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),(0,r.jsx)("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:z?T.map(e=>(0,r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-blue-50 transition-all duration-200 hover:shadow-sm animate-fade-in",onClick:()=>{p(e.id),k(!1),S(""),E([]),f(s=>({...s,[e.id]:e}))},children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{src:e.avatar||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNFNUU3RUIiLz4KPHBhdGggZD0iTTIwIDIwQzIyLjc2MTQgMjAgMjUgMTcuNzYxNCAyNSAxNUMyNSAxMi4yMzg2IDIyLjc2MTQgMTAgMjAgMTBDMTcuMjM4NiAxMCAxNSAxMi4yMzg2IDE1IDE1QzE1IDE3Ljc2MTQgMTcuNzYxNCAyMCAyMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHBhdGggZD0iTTMwIDI4QzMwIDI0LjY4NjMgMjYuNDI3MSAyMiAyMiAyMkgxOEMxMy41NzI5IDIyIDEwIDI0LjY4NjMgMTAgMjhWMzBIMzBWMjhaIiBmaWxsPSIjOUNBNEFGIi8+Cjwvc3ZnPgo=",alt:e.name,className:"w-10 h-10 rounded-full mr-3"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.bio||"No bio available"})]})]})},e.id)):_.map(e=>{let t=m.filter(t=>t.senderId===(null==s?void 0:s.id)&&t.receiverId===e||t.senderId===e&&t.receiverId===(null==s?void 0:s.id)),a=t[t.length-1],l=v[e],i=m.filter(t=>t.receiverId===(null==s?void 0:s.id)&&t.senderId===e&&"read"!==t.status).length,n=I[e];return(0,r.jsx)("div",{className:"p-4 cursor-pointer hover:bg-blue-50 transition-all duration-200 hover:shadow-md ".concat(N===e?"bg-blue-100 border-l-4 border-blue-500":""),onClick:()=>p(e),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:(null==l?void 0:l.avatar)||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNFNUU3RUIiLz4KPHBhdGggZD0iTTIwIDIwQzIyLjc2MTQgMjAgMjUgMTcuNzYxNCAyNSAxNUMyNSAxMi4yMzg2IDIyLjc2MTQgMTAgMjAgMTBDMTcuMjM4NiAxMCAxNSAxMi4yMzg2IDE1IDE1QzE1IDE3Ljc2MTQgMTcuNzYxNCAyMCAyMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHBhdGggZD0iTTMwIDI4QzMwIDI0LjY4NjMgMjYuNDI3MSAyMiAyMiAyMkgxOEMxMy41NzI5IDIyIDEwIDI0LjY4NjMgMTAgMjhWMzBIMzBWMjhaIiBmaWxsPSIjOUNBNEFGIi8+Cjwvc3ZnPgo=",alt:(null==l?void 0:l.name)||"User",className:"w-10 h-10 rounded-full mr-3"}),(null==n?void 0:n.isOnline)&&(0,r.jsx)("div",{className:"absolute bottom-0 right-3 w-3 h-3 bg-blue-500 rounded-full border-2 border-white"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:(null==l?void 0:l.name)||"User ".concat(e)}),a&&(0,r.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.timestamp).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate flex-1",children:(null==a?void 0:a.content)||"No messages yet"}),i>0&&(0,r.jsx)("span",{className:"bg-blue-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center ml-2 animate-pulse shadow-lg",children:i})]})]})]})},e)})})]}),(0,r.jsxs)("div",{className:"lg:w-3/4 bg-white rounded-xl shadow-lg border border-blue-100 animate-slide-in-right",children:[(0,r.jsx)("div",{className:"p-4 border-b border-blue-200 bg-blue-50",children:(0,r.jsx)("h2",{className:"text-xl font-bold text-blue-800",children:"Conversation"})}),(0,r.jsx)("div",{className:"p-4 h-96 overflow-y-auto",children:N?(0,r.jsxs)(r.Fragment,{children:[(()=>{let e=m.filter(e=>e.senderId===s.id&&e.receiverId===N||e.senderId===N&&e.receiverId===s.id),t=e.filter(e=>e.senderId===s.id&&"read"===e.status).sort((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime())[0],a=v[N];return e.map(e=>(0,r.jsx)("div",{className:"mb-4 flex ".concat(e.senderId===s.id?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-xs lg:max-w-md rounded-2xl p-4 shadow-sm transition-all duration-300 animate-fade-in ".concat(e.senderId===s.id?"bg-blue-500 text-white ml-auto":"bg-white text-gray-900 border border-blue-200"),children:[e.file&&(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsxs)("div",{className:"bg-black bg-opacity-20 rounded p-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-xs mr-2",children:"\uD83D\uDCCE"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-medium",children:e.file.name}),(0,r.jsxs)("p",{className:"text-xs opacity-75",children:[(e.file.size/1024).toFixed(1)," KB"]})]})]}),e.file.type.startsWith("image/")&&(0,r.jsx)("img",{src:e.file.url,alt:e.file.name,className:"mt-2 max-w-full h-auto rounded",style:{maxHeight:"200px"}})]})}),e.content&&(0,r.jsx)("p",{className:"text-sm",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,r.jsx)("p",{className:"text-xs ".concat(e.senderId===s.id?"text-blue-100":"text-gray-500"),children:new Date(e.timestamp).toLocaleTimeString()}),(0,r.jsxs)("div",{className:"flex items-center",children:[e.senderId===s.id&&(null==t?void 0:t.id)===e.id&&(0,r.jsx)("img",{src:(null==a?void 0:a.avatar)||"/default-avatar.jpg",alt:"Read by",className:"w-4 h-4 rounded-full mr-1"}),e.senderId===s.id&&(0,r.jsxs)("span",{className:"text-xs text-blue-100",children:["sent"===e.status&&"✓","delivered"===e.status&&"✓✓","read"===e.status&&"✓✓"]})]})]})]})},e.id))})(),(null==(e=I[N])?void 0:e.isTyping)&&(0,r.jsx)("div",{className:"mb-4 flex justify-start animate-fade-in",children:(0,r.jsx)("div",{className:"bg-white text-gray-900 rounded-2xl p-4 border border-green-200 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,r.jsx)("span",{className:"text-xs text-green-600 ml-2",children:"Бичиж байна..."})]})})}),(0,r.jsx)("div",{ref:G})]}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full animate-fade-in",children:(0,r.jsx)("p",{className:"text-green-600 text-lg",children:"Харилцагчийг сонгоод зурвас бичих боломжтой"})})}),N&&(0,r.jsxs)("div",{className:"p-4 border-t border-blue-200 bg-blue-50",children:[y&&(0,r.jsxs)("div",{className:"mb-2 p-3 bg-white rounded-lg border border-blue-200 flex items-center justify-between shadow-sm animate-slide-in-up",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-blue-600 mr-2",children:"\uD83D\uDCCE"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:y.name})]}),(0,r.jsx)("button",{onClick:()=>w(null),className:"text-red-500 hover:text-red-700 text-sm transition-colors duration-200 hover:scale-110",children:"✕"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>B(!Z),className:"bg-white text-blue-600 px-4 py-3 rounded-xl hover:bg-blue-50 transition-all duration-200 hover:scale-105 shadow-sm border border-blue-200",children:"\uD83D\uDE00"}),(0,r.jsx)("input",{type:"text",value:b,onChange:e=>{j(e.target.value),!L&&N&&(U(!0),console.log("User is typing...")),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{U(!1),console.log("User stopped typing")},2e3)},placeholder:"Зурвас бичнэ үү...",className:"flex-1 px-4 py-3 border border-blue-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white shadow-sm",onKeyPress:e=>"Enter"===e.key&&Q()}),(0,r.jsxs)("label",{className:"cursor-pointer bg-white text-green-600 px-4 py-3 rounded-xl hover:bg-green-50 transition-all duration-200 hover:scale-105 shadow-sm border border-green-200 flex items-center",children:[(0,r.jsx)("span",{className:"mr-1",children:"\uD83D\uDCCE"}),(0,r.jsx)("input",{type:"file",onChange:e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];t&&w(t)},className:"hidden",accept:"image/*,.pdf,.doc,.docx,.txt"})]}),(0,r.jsx)("button",{onClick:Q,disabled:!b.trim()&&!y,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 shadow-lg disabled:shadow-none",children:"Илгээх"})]}),Z&&(0,r.jsx)("div",{className:"absolute bottom-20 left-4 bg-white border border-green-300 rounded-xl p-4 shadow-xl animate-slide-in-up",children:(0,r.jsx)("div",{className:"grid grid-cols-8 gap-3",children:["\uD83D\uDE00","\uD83D\uDE02","❤️","\uD83D\uDC4D","\uD83D\uDC4E","\uD83D\uDD25","\uD83D\uDCAF","\uD83D\uDE4F"].map(e=>(0,r.jsx)("button",{onClick:()=>{j(s=>s+e),B(!1)},className:"text-2xl hover:bg-green-50 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:e},e))})})]})]})]})]})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-blue-800 animate-fade-in",children:"Please login to view messages"})})]})}}},e=>{e.O(0,[230,636,593,792],()=>e(e.s=124)),_N_E=e.O()}]);