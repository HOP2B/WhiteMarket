(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{1284:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/offer-service",function(){return r(6412)}])},1898:(e,s,r)=>{"use strict";r.d(s,{A:()=>m});var t=r(7876),a=r(4232),l=r(8230),i=r.n(l),n=r(8070),c=r(7279),d=r(4525),o=r(9099);let x=()=>{let{notifications:e,unreadCount:s,isLoading:r,markAsRead:a,markAllAsRead:l,deleteNotification:i,showNotifications:n,toggleNotifications:d}=(0,c.E)(),x=(0,o.useRouter)(),m=async e=>{e.read||await a(e.id),e.actionUrl&&x.push(e.actionUrl),d()};return n?(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Мэдэгдэл"}),s>0&&(0,t.jsx)("button",{onClick:l,className:"text-sm text-green-600 hover:text-green-700",children:"Бүгдийг уншсан болгох"})]})}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:r?(0,t.jsx)("div",{className:"p-4 text-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-green-600 mx-auto"})}):e.length>0?e.map(e=>(0,t.jsx)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50"),onClick:()=>m(e),children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"order":return"\uD83D\uDCE6";case"message":return"\uD83D\uDCAC";case"payment":return"\uD83D\uDCB3";case"system":return"\uD83D\uDD14";default:return"\uD83D\uDCE2"}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),!e.read&&(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(e=>{let s=new Date,r=new Date(e),t=Math.floor((s.getTime()-r.getTime())/6e4);if(t<1)return"Дөнгөж сая";if(t<60)return"".concat(t," мин өмнө");let a=Math.floor(t/60);if(a<24)return"".concat(a," цаг өмнө");let l=Math.floor(a/24);return l<7?"".concat(l," өдөр өмнө"):r.toLocaleDateString("mn-MN")})(e.createdAt)})]}),(0,t.jsx)("button",{onClick:s=>{s.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-red-600 text-sm p-1",title:"Устгах",children:"✕"})]})},e.id)):(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDD14"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Мэдэгдэл байхгүй байна"})]})}),e.length>0&&(0,t.jsx)("div",{className:"p-3 border-t border-gray-200 text-center",children:(0,t.jsx)("button",{onClick:()=>{x.push("/notifications"),d()},className:"text-sm text-green-600 hover:text-green-700",children:"Бүх мэдэгдлийг харах"})})]}):null},m=()=>{let{user:e}=(0,n.A)(),{unreadCount:s,toggleNotifications:r}=(0,c.E)(),[l,o]=(0,a.useState)(!1);return(0,t.jsx)("nav",{className:"bg-white shadow-md border-b border-gray-200 sticky top-0 z-50 backdrop-blur-sm bg-opacity-95 transition-all duration-300",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16 lg:grid lg:grid-cols-3 lg:items-center",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(i(),{href:"/",className:"flex items-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-gradient",children:"White Market"})})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"flex items-center hidden md:block",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search services...",className:"input-field pl-10 pr-4 py-2 w-64"}),(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e?(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(i(),{href:"/jobs",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Үйлчилгээ"}),(0,t.jsx)(i(),{href:"/dashboard",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Dashboard"}),(0,t.jsx)(i(),{href:"/messages",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Messages"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:r,className:"relative p-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200",title:"Мэдэгдэл",children:[(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDD14"}),s>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse-subtle",children:s>9?"9+":s})]}),(0,t.jsx)(x,{})]}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)(d.uF,{appearance:{elements:{avatarBox:"w-8 h-8 border-2 border-blue-600",userButtonTrigger:"p-1"}}})})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i(),{href:"/login",className:"px-4 py-2 text-text-gray-600 hover:text-gray-900-color hover:bg-bg-gray-100 rounded-lg transition-all duration-200 font-medium",children:"Login"}),(0,t.jsx)(i(),{href:"/register",className:"btn-primary px-6 py-2 text-sm",children:"Sign Up"})]})]})]})})})}},6412:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(7876),a=r(4232),l=r(9099),i=r(1898),n=r(8070),c=r(9252);let d=()=>{let{user:e}=(0,n.A)(),s=(0,l.useRouter)(),[r,d]=(0,a.useState)(!1),[o,x]=(0,a.useState)({title:"",description:"",category:"Graphics & Design",packages:{basic:{name:"Үндсэн",price:"",description:"",deliveryTime:"3",revisions:"2"},standard:{name:"Стандарт",price:"",description:"",deliveryTime:"5",revisions:"3"},premium:{name:"Премиум",price:"",description:"",deliveryTime:"7",revisions:"5"}},tags:[],images:[]}),m=e=>{let{name:s,value:r}=e.target;x(e=>({...e,[s]:r}))},g=async r=>{if(r.preventDefault(),e){if(!Object.values(o.packages).some(e=>e.price&&parseFloat(e.price)>0))return void alert("Дор хаяж нэг багцад үнэ оруулна уу!");d(!0);try{let r={title:o.title,description:o.description,price:parseFloat(o.packages.basic.price)||0,category:o.category,userId:e.id,userName:e.username||e.name||"Unknown User",userAvatar:e.imageUrl||"/default-avatar.jpg",rating:0,reviews:0,packages:o.packages,tags:o.tags},t=await (0,c.si)(r);console.log("Service created successfully:",t),alert("Үйлчилгээ амжилттай үүсгэгдлээ!"),s.push("/dashboard")}catch(e){console.error("Error creating gig:",e),alert("Үйлчилгээ үүсгэхэд алдаа гарлаа. Дахин оролдоно уу.")}finally{d(!1)}}};return e?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex flex-col",children:[(0,t.jsx)(i.A,{}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:(0,t.jsx)("span",{className:"text-2xl",role:"img","aria-label":"Service",children:"\uD83D\uDCBC"})}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Үйлчилгээ үүсгэх"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Өөрийн ур чадвараа харуулж үйлчлүүлэгчдийг тат"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-xl border border-gray-100 p-8",children:(0,t.jsxs)("form",{onSubmit:g,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Үйлчилгээний нэр"}),(0,t.jsx)("input",{type:"text",name:"title",value:o.title,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Жишээ нь: Лого дизайн"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ангилал"}),(0,t.jsx)("select",{name:"category",value:o.category,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["Graphics & Design","Programming & Tech","Digital Marketing","Writing & Translation"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тайлбар"}),(0,t.jsx)("textarea",{name:"description",value:o.description,onChange:m,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Үйлчилгээнийхээ дэлгэрэнгүй тайлбарыг бичнэ үү..."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Багцууд"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(o.packages).map(e=>{let[s,r]=e;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:r.name}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Үнэ (₮)"}),(0,t.jsx)("input",{type:"number",value:r.price,onChange:e=>{let r={...o.packages};r[s].price=e.target.value,x({...o,packages:r})},className:"w-full px-3 py-2 border border-gray-300 rounded text-sm",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Хүргэх хугацаа (өдөр)"}),(0,t.jsx)("input",{type:"number",value:r.deliveryTime,onChange:e=>{let r={...o.packages};r[s].deliveryTime=e.target.value,x({...o,packages:r})},className:"w-full px-3 py-2 border border-gray-300 rounded text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Засвар (удаа)"}),(0,t.jsx)("input",{type:"number",value:r.revisions,onChange:e=>{let r={...o.packages};r[s].revisions=e.target.value,x({...o,packages:r})},className:"w-full px-3 py-2 border border-gray-300 rounded text-sm"})]})]})]},s)})})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>s.back(),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg hover:bg-gray-300 font-medium",children:"Цуцлах"}),(0,t.jsx)("button",{type:"submit",disabled:r,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50",children:r?"Үүсгэж байна...":"Үйлчилгээ үүсгэх"})]})]})})]})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex flex-col",children:[(0,t.jsx)(i.A,{}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please login to offer a service"}),(0,t.jsx)("button",{onClick:()=>s.push("/login"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Login"})]})})]})}}},e=>{e.O(0,[230,636,593,792],()=>e(e.s=1284)),_N_E=e.O()}]);