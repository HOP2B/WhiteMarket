"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{8718:(e,t,l)=>{l.d(t,{detectKeylessEnvDrift:()=>c});var r=l(3136),n=l(3581),i=l(1837),s=l(5364);let a="KEYLESS_ENV_DRIFT_DETECTED";async function c(){var e,t;if(r.I&&"undefined"==typeof window)try{let{safeParseClerkFile:c}=await l.e(899).then(l.bind(l,6280)),u=c();if(!u)return;let y="pk_test_ZGVlcC1hbmNob3Z5LTczLmNsZXJrLmFjY291bnRzLmRldiQ",b=s.env.CLERK_SECRET_KEY,o=!!(y||b),d=!!((null==u?void 0:u.publishableKey)&&(null==u?void 0:u.secretKey)),f=!y&&!b;if(!o&&!d||f&&d||!d||!o)return;let K=!!(y&&u.publishableKey&&y===u.publishableKey),h=!!(b&&u.secretKey&&b===u.secretKey);if(!(y&&u.publishableKey&&!K||b&&u.secretKey&&!h))return;let p={publicKeyMatch:K,secretKeyMatch:h,envVarsMissing:f,keylessFileHasKeys:d,keylessPublishableKey:null!=(e=u.publishableKey)?e:"",envPublishableKey:y},E=(0,n.n)({publishableKey:u.publishableKey,secretKey:u.secretKey,telemetry:{samplingRate:1}});(function(){try{if(!r.I)return!1;{let{mkdirSync:e,writeFileSync:t}=(0,i.p8)(),l=(0,i.dc)(),r=(0,i.dc)().join(s.cwd(),".clerk/.tmp/telemetry.json"),n=l.dirname(r);e(n,{recursive:!0});let c={firedAt:new Date().toISOString(),event:a};return t(r,JSON.stringify(c,null,2),{flag:"wx"}),!0}}catch(e){if((null==e?void 0:e.code)==="EEXIST")return!1;return console.warn("Failed to create telemetry flag file:",e),!1}})()&&(null==(t=E.telemetry)||t.record({event:a,eventSamplingRate:1,payload:p}))}catch(e){console.warn("Failed to detect keyless environment drift:",e)}}}}]);