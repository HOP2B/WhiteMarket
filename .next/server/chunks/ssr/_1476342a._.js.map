{"version":3,"sources":["../../../../pages/messages.tsx","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Navbar from \"../components/Navbar\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { getMessages, sendMessage, getUserById } from \"../api/mockApi\";\nimport { supabase } from \"../lib/supabase\";\n\nconst Messages: React.FC = () => {\n  const { user } = useAuth();\n  const router = useRouter();\n  const { contact } = router.query;\n  const [messages, setMessages] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [selectedConversation, setSelectedConversation] = useState<\n    string | null\n  >(null);\n  const [conversationUsers, setConversationUsers] = useState<any>({});\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      const fetchMessages = async () => {\n        try {\n          const data = (await getMessages(user.id)) as any[];\n          setMessages(data);\n\n          // Fetch user data for conversations\n          const userIds = Array.from(\n            new Set(\n              data.map((msg) =>\n                msg.senderId === user.id ? msg.receiverId : msg.senderId,\n              ),\n            ),\n          );\n\n          const userPromises = userIds.map((id) => getUserById(id));\n          const users = await Promise.all(userPromises);\n          const userMap: any = {};\n          users.forEach((u, index) => {\n            userMap[userIds[index]] = u;\n          });\n          setConversationUsers(userMap);\n\n          setLoading(false);\n        } catch (error) {\n          console.error(\"Error fetching messages:\", error);\n          setLoading(false);\n        }\n      };\n\n      fetchMessages();\n\n      // Subscribe to new messages\n      const subscription = supabase\n        .channel(\"messages\")\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"messages\",\n          },\n          (payload) => {\n            const newMessage = payload.new;\n            if (\n              newMessage.senderId === user.id ||\n              newMessage.receiverId === user.id\n            ) {\n              setMessages((prev) => [...prev, newMessage]);\n            }\n          },\n        )\n        .subscribe();\n\n      return () => {\n        subscription.unsubscribe();\n      };\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (contact && typeof contact === \"string\") {\n      setSelectedConversation(contact);\n    }\n  }, [contact]);\n\n  const handleSendMessage = async () => {\n    if ((!newMessage.trim() && !selectedFile) || !user || !selectedConversation)\n      return;\n\n    try {\n      const message: any = {\n        id: Date.now().toString(),\n        senderId: user.id,\n        receiverId: selectedConversation,\n        content: newMessage,\n        timestamp: new Date().toISOString(),\n      };\n\n      if (selectedFile) {\n        // Simulate file upload\n        message.file = {\n          name: selectedFile.name,\n          size: selectedFile.size,\n          type: selectedFile.type,\n          url: URL.createObjectURL(selectedFile), // In production, this would be uploaded to cloud storage\n        };\n      }\n\n      await sendMessage(message);\n      setMessages([...messages, message]);\n      setNewMessage(\"\");\n      setSelectedFile(null);\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n    }\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setSelectedFile(file);\n    }\n  };\n\n  const conversations = Array.from(\n    new Set(\n      messages.map((msg) =>\n        msg.senderId === user?.id ? msg.receiverId : msg.senderId,\n      ),\n    ),\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600\"></div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navbar />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">\n            Please login to view messages\n          </h1>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Messages</h1>\n\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          <div className=\"lg:w-1/4 bg-white rounded-lg shadow-md overflow-hidden\">\n            <div className=\"p-4 border-b\">\n              <h2 className=\"text-xl font-bold text-gray-900\">Conversations</h2>\n            </div>\n            <div className=\"divide-y divide-gray-200\">\n              {conversations.map((conversationId) => {\n                const conversationMessages = messages.filter(\n                  (msg) =>\n                    (msg.senderId === user?.id &&\n                      msg.receiverId === conversationId) ||\n                    (msg.senderId === conversationId &&\n                      msg.receiverId === user?.id),\n                );\n                const lastMessage =\n                  conversationMessages[conversationMessages.length - 1];\n                const otherUser = conversationUsers[conversationId];\n\n                return (\n                  <div\n                    key={conversationId}\n                    className={`p-4 cursor-pointer hover:bg-gray-50 ${\n                      selectedConversation === conversationId\n                        ? \"bg-gray-100\"\n                        : \"\"\n                    }`}\n                    onClick={() => setSelectedConversation(conversationId)}\n                  >\n                    <div className=\"flex items-center\">\n                      <img\n                        src={otherUser?.avatar || \"/default-avatar.jpg\"}\n                        alt={otherUser?.name || \"User\"}\n                        className=\"w-10 h-10 rounded-full mr-3\"\n                      />\n                      <div className=\"flex-1\">\n                        <p className=\"font-semibold text-gray-900\">\n                          {otherUser?.name || `User ${conversationId}`}\n                        </p>\n                        <p className=\"text-sm text-gray-500 truncate\">\n                          {lastMessage?.content}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n\n          <div className=\"lg:w-3/4 bg-white rounded-lg shadow-md\">\n            <div className=\"p-4 border-b\">\n              <h2 className=\"text-xl font-bold text-gray-900\">Conversation</h2>\n            </div>\n\n            <div className=\"p-4 h-96 overflow-y-auto\">\n              {selectedConversation ? (\n                messages\n                  .filter(\n                    (msg) =>\n                      (msg.senderId === user.id &&\n                        msg.receiverId === selectedConversation) ||\n                      (msg.senderId === selectedConversation &&\n                        msg.receiverId === user.id),\n                  )\n                  .map((message) => (\n                    <div\n                      key={message.id}\n                      className={`mb-4 flex ${\n                        message.senderId === user.id\n                          ? \"justify-end\"\n                          : \"justify-start\"\n                      }`}\n                    >\n                      <div\n                        className={`max-w-xs lg:max-w-md rounded-lg p-3 ${\n                          message.senderId === user.id\n                            ? \"bg-green-600 text-white\"\n                            : \"bg-gray-200 text-gray-900\"\n                        }`}\n                      >\n                        {message.file && (\n                          <div className=\"mb-2\">\n                            <div className=\"bg-black bg-opacity-20 rounded p-2\">\n                              <div className=\"flex items-center\">\n                                <span className=\"text-xs mr-2\">üìé</span>\n                                <div>\n                                  <p className=\"text-xs font-medium\">\n                                    {message.file.name}\n                                  </p>\n                                  <p className=\"text-xs opacity-75\">\n                                    {(message.file.size / 1024).toFixed(1)} KB\n                                  </p>\n                                </div>\n                              </div>\n                              {message.file.type.startsWith(\"image/\") && (\n                                <img\n                                  src={message.file.url}\n                                  alt={message.file.name}\n                                  className=\"mt-2 max-w-full h-auto rounded\"\n                                  style={{ maxHeight: \"200px\" }}\n                                />\n                              )}\n                            </div>\n                          </div>\n                        )}\n                        {message.content && (\n                          <p className=\"text-sm\">{message.content}</p>\n                        )}\n                        <p\n                          className={`text-xs mt-1 ${\n                            message.senderId === user.id\n                              ? \"text-green-100\"\n                              : \"text-gray-500\"\n                          }`}\n                        >\n                          {new Date(message.timestamp).toLocaleTimeString()}\n                        </p>\n                      </div>\n                    </div>\n                  ))\n              ) : (\n                <div className=\"flex items-center justify-center h-full\">\n                  <p className=\"text-gray-500\">\n                    Select a conversation to view messages\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {selectedConversation && (\n              <div className=\"p-4 border-t\">\n                {selectedFile && (\n                  <div className=\"mb-2 p-2 bg-gray-100 rounded flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-sm mr-2\">üìé</span>\n                      <span className=\"text-sm\">{selectedFile.name}</span>\n                    </div>\n                    <button\n                      onClick={() => setSelectedFile(null)}\n                      className=\"text-red-500 hover:text-red-700 text-sm\"\n                    >\n                      ‚úï\n                    </button>\n                  </div>\n                )}\n                <div className=\"flex gap-2\">\n                  <input\n                    type=\"text\"\n                    value={newMessage}\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    placeholder=\"–ó—É—Ä–≤–∞—Å –±–∏—á–Ω—ç “Ø“Ø...\"\n                    className=\"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                    onKeyPress={(e) => e.key === \"Enter\" && handleSendMessage()}\n                  />\n                  <label className=\"cursor-pointer bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 flex items-center\">\n                    <span className=\"mr-1\">üìé</span>\n                    <input\n                      type=\"file\"\n                      onChange={handleFileSelect}\n                      className=\"hidden\"\n                      accept=\"image/*,.pdf,.doc,.docx,.txt\"\n                    />\n                  </label>\n                  <button\n                    onClick={handleSendMessage}\n                    disabled={!newMessage.trim() && !selectedFile}\n                    className=\"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    –ò–ª–≥—ç—ç—Ö\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Messages;\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[1]}