{"version":3,"sources":["../../../../pages/gigs/%5Bid%5D.tsx","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Navbar from \"../../components/Navbar\";\nimport { getGigById, getUserById } from \"../../api/mockApi\";\nimport { useAuth } from \"../../context/AuthContext\";\n\nconst GigDetail: React.FC = () => {\n  const router = useRouter();\n  const { id } = router.query;\n  const { user } = useAuth();\n  const [gig, setGig] = useState<any>(null);\n  const [seller, setSeller] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  const handleContactSeller = () => {\n    console.log(\"handleContactSeller called\");\n    console.log(\"user:\", user);\n    console.log(\"gig:\", gig);\n    console.log(\"gig?.userId:\", gig?.userId);\n    console.log(\"loading:\", loading);\n\n    if (!user) {\n      router.push(\"/login\");\n      return;\n    }\n\n    if (loading) {\n      alert(\"Please wait for the page to load completely\");\n      return;\n    }\n\n    if (!gig) {\n      alert(\"Service information not available\");\n      return;\n    }\n\n    if (!gig.userId) {\n      console.error(\"No userId found for gig:\", gig);\n      alert(\"Unable to contact seller - missing seller information\");\n      return;\n    }\n\n    // Ensure userId is not the same as current user\n    if (gig.userId === user.id) {\n      alert(\"You cannot contact yourself\");\n      return;\n    }\n\n    console.log(\"Navigating to messages with contact:\", gig.userId);\n    router.push(`/messages?contact=${gig.userId}`);\n  };\n\n  useEffect(() => {\n    if (id) {\n      const fetchGigData = async () => {\n        try {\n          const gigData = (await getGigById(id as string)) as any;\n          if (gigData) {\n            const sellerData = await getUserById(gigData.userId);\n            setGig(gigData);\n            setSeller(sellerData);\n          }\n          setLoading(false);\n        } catch (error) {\n          console.error(\"Error fetching gig data:\", error);\n          setLoading(false);\n        }\n      };\n\n      fetchGigData();\n    }\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600\"></div>\n      </div>\n    );\n  }\n\n  if (!gig) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <Navbar />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Gig not found</h1>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n          <div className=\"p-8\">\n            <div className=\"flex flex-col lg:flex-row gap-8\">\n              <div className=\"lg:w-2/3\">\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n                  {gig.title}\n                </h1>\n                <div className=\"flex items-center mb-6\">\n                  <img\n                    src={seller?.avatar || \"/default-avatar.jpg\"}\n                    alt={seller?.name || \"Seller\"}\n                    className=\"w-12 h-12 rounded-full mr-4\"\n                  />\n                  <div>\n                    <p className=\"font-semibold text-gray-900\">\n                      {seller?.name}\n                    </p>\n                    <div className=\"flex items-center\">\n                      <span className=\"text-yellow-500\">★</span>\n                      <span className=\"ml-1 text-gray-700\">{gig.rating}</span>\n                      <span className=\"ml-1 text-gray-500\">\n                        ({gig.reviews} reviews)\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"mb-8\">\n                  <img\n                    src=\"/placeholder-gig.jpg\"\n                    alt={gig.title}\n                    className=\"w-full h-64 object-cover rounded-lg mb-4\"\n                  />\n                  <p className=\"text-gray-700 text-lg\">{gig.description}</p>\n                </div>\n\n                <div className=\"mb-8\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-4\">\n                    About This Gig\n                  </h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"flex items-center\">\n                      <span className=\"text-gray-600 mr-2\">Category:</span>\n                      <span className=\"font-semibold text-gray-900\">\n                        {gig.category}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <span className=\"text-gray-600 mr-2\">Delivery Time:</span>\n                      <span className=\"font-semibold text-gray-900\">\n                        3 Days\n                      </span>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <span className=\"text-gray-600 mr-2\">Revisions:</span>\n                      <span className=\"font-semibold text-gray-900\">\n                        Unlimited\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"lg:w-1/3\">\n                <div className=\"bg-gray-50 rounded-lg p-6 sticky top-8\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <span className=\"text-gray-600\">Эхлэх үнэ</span>\n                    <span className=\"text-3xl font-bold text-green-600\">\n                      ₮{gig.price.toLocaleString()}\n                    </span>\n                  </div>\n\n                  <button\n                    onClick={() => router.push(`/checkout?gigId=${gig.id}`)}\n                    className=\"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 mb-4\"\n                  >\n                    Ажилд авлах (₮{gig.price.toLocaleString()})\n                  </button>\n\n                  <div className=\"space-y-3\">\n                    <button\n                      onClick={handleContactSeller}\n                      disabled={loading}\n                      className=\"w-full border border-gray-300 py-3 px-4 rounded-md hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {loading ? \"Уншиж байна...\" : \"Холбоо барих\"}\n                    </button>\n                    <button className=\"w-full border border-gray-300 py-3 px-4 rounded-md hover:bg-gray-50 transition-colors duration-200\">\n                      Add to Favorites\n                    </button>\n                  </div>\n\n                  <div className=\"mt-6\">\n                    <h4 className=\"font-semibold text-gray-900 mb-2\">\n                      What's Included\n                    </h4>\n                    <ul className=\"space-y-2 text-sm text-gray-600\">\n                      <li className=\"flex items-center\">\n                        <span className=\"text-green-600 mr-2\">✓</span>\n                        Basic Package\n                      </li>\n                      <li className=\"flex items-center\">\n                        <span className=\"text-green-600 mr-2\">✓</span>3\n                        Revisions\n                      </li>\n                      <li className=\"flex items-center\">\n                        <span className=\"text-green-600 mr-2\">✓</span>3 Days\n                        Delivery\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default GigDetail;\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[1]}