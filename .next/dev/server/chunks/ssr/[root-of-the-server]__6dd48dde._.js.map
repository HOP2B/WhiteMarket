{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/context/AuthContext.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useContext,\n  ReactNode,\n  useState,\n  useEffect,\n} from \"react\";\nimport { useUser, useClerk } from \"@clerk/nextjs\";\n\ninterface UserPreferences {\n  theme: \"light\" | \"dark\";\n  language: string;\n  notifications: {\n    email: boolean;\n    push: boolean;\n    sms: boolean;\n  };\n  currency: string;\n}\n\ninterface AuthContextType {\n  user: any;\n  userRole: \"freelancer\" | \"client\" | null;\n  userPreferences: UserPreferences;\n  isEmailVerified: boolean;\n  isLoading: boolean;\n  error: string | null;\n  login: (userData: any) => void;\n  logout: () => void;\n  updateUserRole: (role: \"freelancer\" | \"client\") => void;\n  updateUserPreferences: (preferences: Partial<UserPreferences>) => void;\n  refreshUser: () => Promise<void>;\n  clearError: () => void;\n}\n\nconst defaultPreferences: UserPreferences = {\n  theme: \"light\",\n  language: \"mn\",\n  notifications: {\n    email: true,\n    push: true,\n    sms: false,\n  },\n  currency: \"MNT\",\n};\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const { user, isLoaded } = useUser();\n  const { signOut, user: clerkUser } = useClerk();\n  const [userRole, setUserRole] = useState<\"freelancer\" | \"client\" | null>(\n    null,\n  );\n  const [userPreferences, setUserPreferences] =\n    useState<UserPreferences>(defaultPreferences);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Load user preferences and role from localStorage or API\n  useEffect(() => {\n    if (user) {\n      const loadUserData = async () => {\n        try {\n          // Load from localStorage first\n          const savedRole = localStorage.getItem(`userRole_${user.id}`);\n          const savedPreferences = localStorage.getItem(\n            `userPreferences_${user.id}`,\n          );\n\n          if (savedRole) {\n            setUserRole(savedRole as \"freelancer\" | \"client\");\n          } else {\n            // If no role set, prompt user to choose\n            setUserRole(null);\n          }\n\n          if (savedPreferences) {\n            setUserPreferences({\n              ...defaultPreferences,\n              ...JSON.parse(savedPreferences),\n            });\n          }\n\n          // In a real app, you might fetch additional user data from your API here\n          // const userData = await getUserById(user.id);\n          // setUserRole(userData.role);\n          // setUserPreferences(userData.preferences);\n        } catch (err) {\n          console.error(\"Error loading user data:\", err);\n          setError(\"Failed to load user data\");\n        } finally {\n          setIsLoading(false);\n        }\n      };\n\n      loadUserData();\n    } else {\n      setIsLoading(false);\n    }\n  }, [user]);\n\n  const login = (userData: any) => {\n    // Not needed with Clerk, but can be used for additional logic\n    console.log(\"User logged in:\", userData);\n  };\n\n  const logout = async () => {\n    try {\n      setError(null);\n      await signOut();\n      // Clear local data\n      setUserRole(null);\n      setUserPreferences(defaultPreferences);\n      localStorage.removeItem(`userRole_${user?.id}`);\n      localStorage.removeItem(`userPreferences_${user?.id}`);\n    } catch (err) {\n      console.error(\"Error during logout:\", err);\n      setError(\"Failed to logout\");\n    }\n  };\n\n  const updateUserRole = async (role: \"freelancer\" | \"client\") => {\n    try {\n      setUserRole(role);\n      if (user) {\n        localStorage.setItem(`userRole_${user.id}`, role);\n        // In a real app, update this in your database\n        // await updateUserRole(user.id, role);\n      }\n    } catch (err) {\n      console.error(\"Error updating user role:\", err);\n      setError(\"Failed to update user role\");\n    }\n  };\n\n  const updateUserPreferences = async (\n    preferences: Partial<UserPreferences>,\n  ) => {\n    try {\n      const updatedPreferences = { ...userPreferences, ...preferences };\n      setUserPreferences(updatedPreferences);\n      if (user) {\n        localStorage.setItem(\n          `userPreferences_${user.id}`,\n          JSON.stringify(updatedPreferences),\n        );\n        // In a real app, update this in your database\n        // await updateUserPreferences(user.id, updatedPreferences);\n      }\n    } catch (err) {\n      console.error(\"Error updating user preferences:\", err);\n      setError(\"Failed to update preferences\");\n    }\n  };\n\n  const refreshUser = async () => {\n    try {\n      // In a real app, refetch user data from API\n      // const freshUserData = await getUserById(user.id);\n      // Update local state with fresh data\n      console.log(\"User data refreshed\");\n    } catch (err) {\n      console.error(\"Error refreshing user:\", err);\n      setError(\"Failed to refresh user data\");\n    }\n  };\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  const isEmailVerified =\n    user?.emailAddresses?.[0]?.verification?.status === \"verified\";\n\n  if (!isLoaded || isLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        userRole,\n        userPreferences,\n        isEmailVerified,\n        isLoading,\n        error,\n        login,\n        logout,\n        updateUserRole,\n        updateUserPreferences,\n        refreshUser,\n        clearError,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,2OAAY,EAAC,aAAa"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/data/mockData.ts"],"sourcesContent":["export const mockGigs = [\n  {\n    id: \"1\",\n    title: \"Logo Design\",\n    description: \"I will design a professional logo for your business\",\n    price: 50,\n    category: \"Graphics & Design\",\n    userId: \"user1\",\n    userName: \"John Doe\",\n    userAvatar: \"/avatars/john-doe.jpg\",\n    rating: 4.5,\n    reviews: 12,\n  },\n  {\n    id: \"2\",\n    title: \"Website Development\",\n    description: \"I will build a responsive website using React\",\n    price: 500,\n    category: \"Programming & Tech\",\n    userId: \"user2\",\n    userName: \"Jane Smith\",\n    userAvatar: \"/avatars/jane-smith.jpg\",\n    rating: 4.8,\n    reviews: 25,\n  },\n  {\n    id: \"3\",\n    title: \"Social Media Marketing\",\n    description: \"I will manage your social media accounts\",\n    price: 200,\n    category: \"Digital Marketing\",\n    userId: \"user3\",\n    userName: \"Mike Johnson\",\n    userAvatar: \"/avatars/mike-johnson.jpg\",\n    rating: 4.2,\n    reviews: 8,\n  },\n  {\n    id: \"4\",\n    title: \"Content Writing\",\n    description: \"I will write SEO optimized articles for your blog\",\n    price: 100,\n    category: \"Writing & Translation\",\n    userId: \"user4\",\n    userName: \"Sarah Williams\",\n    userAvatar: \"/avatars/sarah-williams.jpg\",\n    rating: 4.7,\n    reviews: 18,\n  },\n];\n\nexport const mockUsers = [\n  {\n    id: \"user1\",\n    name: \"John Doe\",\n    email: \"john@example.com\",\n    avatar: \"/avatars/john-doe.jpg\",\n    bio: \"Professional graphic designer with 5 years of experience\",\n    skills: [\"Logo Design\", \"Branding\", \"Illustration\"],\n  },\n  {\n    id: \"user2\",\n    name: \"Jane Smith\",\n    email: \"jane@example.com\",\n    avatar: \"/avatars/jane-smith.jpg\",\n    bio: \"Full stack developer specializing in React and Node.js\",\n    skills: [\"Web Development\", \"JavaScript\", \"React\"],\n  },\n  {\n    id: \"user3\",\n    name: \"Mike Johnson\",\n    email: \"mike@example.com\",\n    avatar: \"/avatars/mike-johnson.jpg\",\n    bio: \"Digital marketing expert with a focus on social media\",\n    skills: [\"Social Media\", \"SEO\", \"Content Marketing\"],\n  },\n  {\n    id: \"user4\",\n    name: \"Sarah Williams\",\n    email: \"sarah@example.com\",\n    avatar: \"/avatars/sarah-williams.jpg\",\n    bio: \"Professional content writer and SEO specialist\",\n    skills: [\"Content Writing\", \"SEO\", \"Copywriting\"],\n  },\n];\n\nexport const mockMessages = [\n  {\n    id: \"1\",\n    senderId: \"user1\",\n    receiverId: \"user2\",\n    content: \"Hello, I would like to discuss a project\",\n    timestamp: \"2023-01-15T10:00:00Z\",\n  },\n  {\n    id: \"2\",\n    senderId: \"user2\",\n    receiverId: \"user1\",\n    content: \"Sure, what do you have in mind?\",\n    timestamp: \"2023-01-15T10:05:00Z\",\n  },\n];\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,WAAW;IACtB;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,SAAS;IACX;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,OAAO;QACP,UAAU;QACV,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,SAAS;IACX;CACD;AAEM,MAAM,YAAY;IACvB;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,QAAQ;QACR,KAAK;QACL,QAAQ;YAAC;YAAe;YAAY;SAAe;IACrD;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,QAAQ;QACR,KAAK;QACL,QAAQ;YAAC;YAAmB;YAAc;SAAQ;IACpD;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,QAAQ;QACR,KAAK;QACL,QAAQ;YAAC;YAAgB;YAAO;SAAoB;IACtD;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,QAAQ;QACR,KAAK;QACL,QAAQ;YAAC;YAAmB;YAAO;SAAc;IACnD;CACD;AAEM,MAAM,eAAe;IAC1B;QACE,IAAI;QACJ,UAAU;QACV,YAAY;QACZ,SAAS;QACT,WAAW;IACb;IACA;QACE,IAAI;QACJ,UAAU;QACV,YAAY;QACZ,SAAS;QACT,WAAW;IACb;CACD"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/api/mockApi.ts"],"sourcesContent":["import { supabase } from \"../lib/supabase\";\nimport { mockGigs, mockUsers } from \"../data/mockData\";\n\n// Enhanced mock data with localStorage persistence\nconst STORAGE_KEY = \"white-market-gigs\";\n\n// Load gigs from localStorage or use default mock data\nconst loadGigsFromStorage = () => {\n  if (typeof window !== \"undefined\") {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored);\n        // Merge with default mock data if stored data exists\n        return [...mockGigs, ...parsed];\n      } catch (e) {\n        console.error(\"Error parsing stored gigs:\", e);\n      }\n    }\n  }\n  return [...mockGigs];\n};\n\n// Save gigs to localStorage\nconst saveGigsToStorage = (gigs: any[]) => {\n  if (typeof window !== \"undefined\") {\n    // Only save newly created gigs (not the default mock data)\n    const newGigs = gigs.filter(\n      (gig) => !mockGigs.find((defaultGig) => defaultGig.id === gig.id),\n    );\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(newGigs));\n  }\n};\n\n// Initialize gigs with localStorage data\nlet mockGigsData = loadGigsFromStorage();\nconst mockReviews = [\n  {\n    id: \"1\",\n    gigId: \"1\",\n    userId: \"user2\",\n    userName: \"–°–∞—Ä–∞–∞\",\n    userAvatar: \"/avatars/user2.jpg\",\n    rating: 5,\n    comment:\n      \"–ú–∞—à —Å–∞–π—Ö–∞–Ω –∞–∂–∏–ª —Ö–∏–π–ª—ç—ç. –¶–∞–≥ —Ö—É–≥–∞—Ü–∞–∞–Ω–¥–∞–∞ —Ö“Ø—Ä–≥—ç–∂ ”©–≥–ª”©”©. –î–∞—Ö–∏–Ω –∑–∞—Ö–∏–∞–ª–∞—Ö –±–æ–ª–Ω–æ.\",\n    date: \"2024-01-15\",\n  },\n  {\n    id: \"2\",\n    gigId: \"1\",\n    userId: \"user3\",\n    userName: \"–ë–∞—Ç-–≠—Ä–¥—ç–Ω—ç\",\n    userAvatar: \"/avatars/user3.jpg\",\n    rating: 4,\n    comment: \"–°–∞–π—Ö–∞–Ω –∞–∂–∏–ª –±–æ–ª—Å–æ–Ω. –ó–∞—Ä–∏–º –∑“Ø–π–ª–∏–π–≥ ”©”©—Ä—á–ª”©—Ö”©–¥ —Ç“Ø—Ä–≥—ç–Ω —Ö–∞—Ä–∏—É ”©–≥—Å”©–Ω.\",\n    date: \"2024-01-10\",\n  },\n];\n\nconst mockNotifications = [\n  {\n    id: \"1\",\n    userId: \"user1\",\n    type: \"order\",\n    title: \"–®–∏–Ω—ç –∑–∞—Ö–∏–∞–ª–≥–∞\",\n    message: \"–¢–∞–Ω—ã “Ø–π–ª—á–∏–ª–≥—ç—ç–Ω–¥ —à–∏–Ω—ç –∑–∞—Ö–∏–∞–ª–≥–∞ –∏—Ä–ª—ç—ç\",\n    read: false,\n    createdAt: \"2024-01-20T10:00:00Z\",\n  },\n  {\n    id: \"2\",\n    userId: \"user1\",\n    type: \"message\",\n    title: \"–®–∏–Ω—ç –∑—É—Ä–≤–∞—Å\",\n    message: \"–¢–∞–Ω–¥ —à–∏–Ω—ç –∑—É—Ä–≤–∞—Å –∏—Ä–ª—ç—ç\",\n    read: true,\n    createdAt: \"2024-01-19T15:30:00Z\",\n  },\n];\n\nconst mockFavorites = [\n  {\n    id: \"1\",\n    userId: \"user1\",\n    gigId: \"2\",\n    createdAt: \"2024-01-18T12:00:00Z\",\n  },\n];\n\nexport const getGigs = async () => {\n  const { data, error } = await supabase\n    .from(\"gigs\")\n    .select(\n      `\n      *,\n      user:users(name, avatar)\n    `,\n    )\n    .order(\"created_at\", { ascending: false });\n\n  if (error) throw error;\n  return data.map((gig) => ({\n    ...gig,\n    userName: gig.user?.name || \"Unknown\",\n    userAvatar: gig.user?.avatar || \"/default-avatar.jpg\",\n    userId: gig.user_id,\n  }));\n};\n\nexport const getGigById = async (id: string) => {\n  const { data, error } = await supabase\n    .from(\"gigs\")\n    .select(\n      `\n      *,\n      user:users(name, avatar)\n    `,\n    )\n    .eq(\"id\", id)\n    .single();\n\n  if (error) throw error;\n  return {\n    ...data,\n    userName: data.user?.name || \"Unknown\",\n    userAvatar: data.user?.avatar || \"/default-avatar.jpg\",\n    userId: data.user_id,\n  };\n};\n\nexport const getUserById = async (id: string) => {\n  const { data, error } = await supabase\n    .from(\"users\")\n    .select(\"*\")\n    .eq(\"id\", id)\n    .single();\n\n  if (error) {\n    // If user not found in database, return a default user\n    // This handles cases where user signed up but no record in users table\n    return {\n      id,\n      name: \"Unknown User\",\n      email: \"unknown@example.com\",\n      avatar: \"/default-avatar.jpg\",\n      bio: \"User profile not available\",\n      skills: [],\n    };\n  }\n  return data;\n};\n\nexport const getMessages = async (userId: string) => {\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .select(\n      `\n      *,\n      sender:users!sender_id(name, avatar),\n      receiver:users!receiver_id(name, avatar)\n    `,\n    )\n    .or(`sender_id.eq.${userId},receiver_id.eq.${userId}`)\n    .order(\"timestamp\", { ascending: true });\n\n  if (error) throw error;\n  return data;\n};\n\nexport const sendMessage = async (message: any) => {\n  const { data, error } = await supabase\n    .from(\"messages\")\n    .insert(message)\n    .select()\n    .single();\n\n  if (error) throw error;\n  return data;\n};\n\nexport const createOrder = async (order: any) => {\n  // Simulate order creation (database not set up yet)\n  console.log(\"Simulating order creation:\", order);\n  return { ...order, id: Date.now().toString() };\n};\n\nexport const getOrders = async (userId: string) => {\n  // Return mock orders for development\n  return [\n    {\n      id: \"1\",\n      gig_id: \"1\",\n      buyer_id: userId,\n      seller_id: \"user1\",\n      amount: 50000,\n      status: \"completed\",\n      created_at: \"2024-01-15T10:00:00Z\",\n      gigs: { title: \"Logo Design\", price: 50000, user_id: \"user1\" },\n      users: { name: \"John Doe\", avatar: \"/avatars/john-doe.jpg\" },\n    },\n    {\n      id: \"2\",\n      gig_id: \"2\",\n      buyer_id: userId,\n      seller_id: \"user2\",\n      amount: 75000,\n      status: \"in_progress\",\n      created_at: \"2024-01-18T14:30:00Z\",\n      gigs: { title: \"Web Development\", price: 75000, user_id: \"user2\" },\n      users: { name: \"Jane Smith\", avatar: \"/avatars/jane-smith.jpg\" },\n    },\n  ];\n};\n\n// New API functions for enhanced functionality\nexport const getReviews = async (gigId: string) => {\n  return mockReviews.filter((review) => review.gigId === gigId);\n};\n\nexport const createReview = async (review: any) => {\n  const newReview = {\n    ...review,\n    id: Date.now().toString(),\n    date: new Date().toISOString().split(\"T\")[0],\n  };\n  mockReviews.push(newReview);\n  return newReview;\n};\n\nexport const getNotifications = async (userId: string) => {\n  return mockNotifications.filter(\n    (notification) => notification.userId === userId,\n  );\n};\n\nexport const markNotificationAsRead = async (notificationId: string) => {\n  const notification = mockNotifications.find((n) => n.id === notificationId);\n  if (notification) {\n    notification.read = true;\n  }\n  return notification;\n};\n\nexport const getFavorites = async (userId: string) => {\n  return mockFavorites.filter((fav) => fav.userId === userId);\n};\n\nexport const addToFavorites = async (userId: string, gigId: string) => {\n  const existing = mockFavorites.find(\n    (fav) => fav.userId === userId && fav.gigId === gigId,\n  );\n  if (!existing) {\n    const newFavorite = {\n      id: Date.now().toString(),\n      userId,\n      gigId,\n      createdAt: new Date().toISOString(),\n    };\n    mockFavorites.push(newFavorite);\n    return newFavorite;\n  }\n  return existing;\n};\n\nexport const removeFromFavorites = async (userId: string, gigId: string) => {\n  const index = mockFavorites.findIndex(\n    (fav) => fav.userId === userId && fav.gigId === gigId,\n  );\n  if (index > -1) {\n    mockFavorites.splice(index, 1);\n    return true;\n  }\n  return false;\n};\n\nexport const searchGigs = async (query: string, filters: any = {}) => {\n  let queryBuilder = supabase.from(\"gigs\").select(`\n      *,\n      user:users(name, avatar)\n    `);\n\n  // Text search\n  if (query) {\n    queryBuilder = queryBuilder.or(\n      `title.ilike.%${query}%,description.ilike.%${query}%,category.ilike.%${query}%`,\n    );\n  }\n\n  // Category filter\n  if (filters.category) {\n    queryBuilder = queryBuilder.eq(\"category\", filters.category);\n  }\n\n  // Price range filter\n  if (filters.minPrice) {\n    queryBuilder = queryBuilder.gte(\"price\", filters.minPrice);\n  }\n  if (filters.maxPrice) {\n    queryBuilder = queryBuilder.lte(\"price\", filters.maxPrice);\n  }\n\n  // Rating filter\n  if (filters.minRating) {\n    queryBuilder = queryBuilder.gte(\"rating\", filters.minRating);\n  }\n\n  // Sort\n  if (filters.sortBy) {\n    switch (filters.sortBy) {\n      case \"price_low\":\n        queryBuilder = queryBuilder.order(\"price\", { ascending: true });\n        break;\n      case \"price_high\":\n        queryBuilder = queryBuilder.order(\"price\", { ascending: false });\n        break;\n      case \"rating\":\n        queryBuilder = queryBuilder.order(\"rating\", { ascending: false });\n        break;\n      case \"newest\":\n        queryBuilder = queryBuilder.order(\"created_at\", { ascending: false });\n        break;\n      default:\n        queryBuilder = queryBuilder.order(\"created_at\", { ascending: false });\n        break;\n    }\n  } else {\n    queryBuilder = queryBuilder.order(\"created_at\", { ascending: false });\n  }\n\n  const { data, error } = await queryBuilder;\n\n  if (error) throw error;\n  return data.map((gig) => ({\n    ...gig,\n    userName: gig.user?.name || \"Unknown\",\n    userAvatar: gig.user?.avatar || \"/default-avatar.jpg\",\n    userId: gig.user_id,\n  }));\n};\n\nexport const getCategories = async () => {\n  const { data, error } = await supabase.from(\"gigs\").select(\"category\");\n\n  if (error) throw error;\n  const categoryCount: { [key: string]: number } = {};\n  data.forEach((gig) => {\n    categoryCount[gig.category] = (categoryCount[gig.category] || 0) + 1;\n  });\n  return Object.entries(categoryCount).map(([name, count]) => ({\n    name,\n    count,\n  }));\n};\n\nexport const getUserStats = async (userId: string) => {\n  const { data: userGigs, error: gigsError } = await supabase\n    .from(\"gigs\")\n    .select(\"rating\")\n    .eq(\"user_id\", userId);\n\n  if (gigsError) throw gigsError;\n\n  const userOrders = await getOrders(userId);\n\n  return {\n    totalGigs: userGigs.length,\n    totalOrders: userOrders.length,\n    completedOrders: userOrders.filter((order) => order.status === \"completed\")\n      .length,\n    totalEarnings: userOrders\n      .filter(\n        (order) => order.seller_id === userId && order.status === \"completed\",\n      )\n      .reduce((sum, order) => sum + order.amount, 0),\n    averageRating:\n      userGigs.length > 0\n        ? userGigs.reduce((sum, gig) => sum + gig.rating, 0) / userGigs.length\n        : 0,\n  };\n};\n\nexport const updateUserProfile = async (userId: string, updates: any) => {\n  // In a real app, this would update the database\n  console.log(\"Updating user profile:\", userId, updates);\n  return { ...updates, id: userId };\n};\n\nexport const createGig = async (gigData: any) => {\n  const newGig = {\n    ...gigData,\n    id: Date.now().toString(),\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    rating: 0,\n    reviews: 0,\n  };\n  const { data, error } = await supabase\n    .from(\"gigs\")\n    .insert(newGig)\n    .select()\n    .single();\n\n  if (error) throw error;\n  return data;\n};\n\nexport const updateGig = async (gigId: string, updates: any) => {\n  const { data, error } = await supabase\n    .from(\"gigs\")\n    .update({ ...updates, updated_at: new Date().toISOString() })\n    .eq(\"id\", gigId)\n    .select()\n    .single();\n\n  if (error) throw error;\n  return data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;;;;;AAEA,mDAAmD;AACnD,MAAM,cAAc;AAEpB,uDAAuD;AACvD,MAAM,sBAAsB;IAC1B;;IAYA,OAAO;WAAI,qHAAQ;KAAC;AACtB;AAEA,4BAA4B;AAC5B,MAAM,oBAAoB,CAAC;IACzB;;AAOF;AAEA,yCAAyC;AACzC,IAAI,eAAe;AACnB,MAAM,cAAc;IAClB;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,SACE;QACF,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,QAAQ;QACR,SAAS;QACT,MAAM;IACR;CACD;AAED,MAAM,oBAAoB;IACxB;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,MAAM;QACN,WAAW;IACb;IACA;QACE,IAAI;QACJ,QAAQ;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,MAAM;QACN,WAAW;IACb;CACD;AAED,MAAM,gBAAgB;IACpB;QACE,IAAI;QACJ,QAAQ;QACR,OAAO;QACP,WAAW;IACb;CACD;AAEM,MAAM,UAAU;IACrB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,QACL,MAAM,CACL,CAAC;;;IAGH,CAAC,EAEA,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,IAAI,OAAO,MAAM;IACjB,OAAO,KAAK,GAAG,CAAC,CAAC,MAAQ,CAAC;YACxB,GAAG,GAAG;YACN,UAAU,IAAI,IAAI,EAAE,QAAQ;YAC5B,YAAY,IAAI,IAAI,EAAE,UAAU;YAChC,QAAQ,IAAI,OAAO;QACrB,CAAC;AACH;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,QACL,MAAM,CACL,CAAC;;;IAGH,CAAC,EAEA,EAAE,CAAC,MAAM,IACT,MAAM;IAET,IAAI,OAAO,MAAM;IACjB,OAAO;QACL,GAAG,IAAI;QACP,UAAU,KAAK,IAAI,EAAE,QAAQ;QAC7B,YAAY,KAAK,IAAI,EAAE,UAAU;QACjC,QAAQ,KAAK,OAAO;IACtB;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;IAET,IAAI,OAAO;QACT,uDAAuD;QACvD,uEAAuE;QACvE,OAAO;YACL;YACA,MAAM;YACN,OAAO;YACP,QAAQ;YACR,KAAK;YACL,QAAQ,EAAE;QACZ;IACF;IACA,OAAO;AACT;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CACL,CAAC;;;;IAIH,CAAC,EAEA,EAAE,CAAC,CAAC,aAAa,EAAE,OAAO,gBAAgB,EAAE,QAAQ,EACpD,KAAK,CAAC,aAAa;QAAE,WAAW;IAAK;IAExC,IAAI,OAAO,MAAM;IACjB,OAAO;AACT;AAEO,MAAM,cAAc,OAAO;IAChC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,SACP,MAAM,GACN,MAAM;IAET,IAAI,OAAO,MAAM;IACjB,OAAO;AACT;AAEO,MAAM,cAAc,OAAO;IAChC,oDAAoD;IACpD,QAAQ,GAAG,CAAC,8BAA8B;IAC1C,OAAO;QAAE,GAAG,KAAK;QAAE,IAAI,KAAK,GAAG,GAAG,QAAQ;IAAG;AAC/C;AAEO,MAAM,YAAY,OAAO;IAC9B,qCAAqC;IACrC,OAAO;QACL;YACE,IAAI;YACJ,QAAQ;YACR,UAAU;YACV,WAAW;YACX,QAAQ;YACR,QAAQ;YACR,YAAY;YACZ,MAAM;gBAAE,OAAO;gBAAe,OAAO;gBAAO,SAAS;YAAQ;YAC7D,OAAO;gBAAE,MAAM;gBAAY,QAAQ;YAAwB;QAC7D;QACA;YACE,IAAI;YACJ,QAAQ;YACR,UAAU;YACV,WAAW;YACX,QAAQ;YACR,QAAQ;YACR,YAAY;YACZ,MAAM;gBAAE,OAAO;gBAAmB,OAAO;gBAAO,SAAS;YAAQ;YACjE,OAAO;gBAAE,MAAM;gBAAc,QAAQ;YAA0B;QACjE;KACD;AACH;AAGO,MAAM,aAAa,OAAO;IAC/B,OAAO,YAAY,MAAM,CAAC,CAAC,SAAW,OAAO,KAAK,KAAK;AACzD;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,YAAY;QAChB,GAAG,MAAM;QACT,IAAI,KAAK,GAAG,GAAG,QAAQ;QACvB,MAAM,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAC9C;IACA,YAAY,IAAI,CAAC;IACjB,OAAO;AACT;AAEO,MAAM,mBAAmB,OAAO;IACrC,OAAO,kBAAkB,MAAM,CAC7B,CAAC,eAAiB,aAAa,MAAM,KAAK;AAE9C;AAEO,MAAM,yBAAyB,OAAO;IAC3C,MAAM,eAAe,kBAAkB,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5D,IAAI,cAAc;QAChB,aAAa,IAAI,GAAG;IACtB;IACA,OAAO;AACT;AAEO,MAAM,eAAe,OAAO;IACjC,OAAO,cAAc,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK;AACtD;AAEO,MAAM,iBAAiB,OAAO,QAAgB;IACnD,MAAM,WAAW,cAAc,IAAI,CACjC,CAAC,MAAQ,IAAI,MAAM,KAAK,UAAU,IAAI,KAAK,KAAK;IAElD,IAAI,CAAC,UAAU;QACb,MAAM,cAAc;YAClB,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB;YACA;YACA,WAAW,IAAI,OAAO,WAAW;QACnC;QACA,cAAc,IAAI,CAAC;QACnB,OAAO;IACT;IACA,OAAO;AACT;AAEO,MAAM,sBAAsB,OAAO,QAAgB;IACxD,MAAM,QAAQ,cAAc,SAAS,CACnC,CAAC,MAAQ,IAAI,MAAM,KAAK,UAAU,IAAI,KAAK,KAAK;IAElD,IAAI,QAAQ,CAAC,GAAG;QACd,cAAc,MAAM,CAAC,OAAO;QAC5B,OAAO;IACT;IACA,OAAO;AACT;AAEO,MAAM,aAAa,OAAO,OAAe,UAAe,CAAC,CAAC;IAC/D,IAAI,eAAe,oHAAQ,CAAC,IAAI,CAAC,QAAQ,MAAM,CAAC,CAAC;;;IAG/C,CAAC;IAEH,cAAc;IACd,IAAI,OAAO;QACT,eAAe,aAAa,EAAE,CAC5B,CAAC,aAAa,EAAE,MAAM,qBAAqB,EAAE,MAAM,kBAAkB,EAAE,MAAM,CAAC,CAAC;IAEnF;IAEA,kBAAkB;IAClB,IAAI,QAAQ,QAAQ,EAAE;QACpB,eAAe,aAAa,EAAE,CAAC,YAAY,QAAQ,QAAQ;IAC7D;IAEA,qBAAqB;IACrB,IAAI,QAAQ,QAAQ,EAAE;QACpB,eAAe,aAAa,GAAG,CAAC,SAAS,QAAQ,QAAQ;IAC3D;IACA,IAAI,QAAQ,QAAQ,EAAE;QACpB,eAAe,aAAa,GAAG,CAAC,SAAS,QAAQ,QAAQ;IAC3D;IAEA,gBAAgB;IAChB,IAAI,QAAQ,SAAS,EAAE;QACrB,eAAe,aAAa,GAAG,CAAC,UAAU,QAAQ,SAAS;IAC7D;IAEA,OAAO;IACP,IAAI,QAAQ,MAAM,EAAE;QAClB,OAAQ,QAAQ,MAAM;YACpB,KAAK;gBACH,eAAe,aAAa,KAAK,CAAC,SAAS;oBAAE,WAAW;gBAAK;gBAC7D;YACF,KAAK;gBACH,eAAe,aAAa,KAAK,CAAC,SAAS;oBAAE,WAAW;gBAAM;gBAC9D;YACF,KAAK;gBACH,eAAe,aAAa,KAAK,CAAC,UAAU;oBAAE,WAAW;gBAAM;gBAC/D;YACF,KAAK;gBACH,eAAe,aAAa,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBACnE;YACF;gBACE,eAAe,aAAa,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBACnE;QACJ;IACF,OAAO;QACL,eAAe,aAAa,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;IACrE;IAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;IAE9B,IAAI,OAAO,MAAM;IACjB,OAAO,KAAK,GAAG,CAAC,CAAC,MAAQ,CAAC;YACxB,GAAG,GAAG;YACN,UAAU,IAAI,IAAI,EAAE,QAAQ;YAC5B,YAAY,IAAI,IAAI,EAAE,UAAU;YAChC,QAAQ,IAAI,OAAO;QACrB,CAAC;AACH;AAEO,MAAM,gBAAgB;IAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CAAC,IAAI,CAAC,QAAQ,MAAM,CAAC;IAE3D,IAAI,OAAO,MAAM;IACjB,MAAM,gBAA2C,CAAC;IAClD,KAAK,OAAO,CAAC,CAAC;QACZ,aAAa,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI;IACrE;IACA,OAAO,OAAO,OAAO,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,MAAM,MAAM,GAAK,CAAC;YAC3D;YACA;QACF,CAAC;AACH;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,oHAAQ,CACxD,IAAI,CAAC,QACL,MAAM,CAAC,UACP,EAAE,CAAC,WAAW;IAEjB,IAAI,WAAW,MAAM;IAErB,MAAM,aAAa,MAAM,UAAU;IAEnC,OAAO;QACL,WAAW,SAAS,MAAM;QAC1B,aAAa,WAAW,MAAM;QAC9B,iBAAiB,WAAW,MAAM,CAAC,CAAC,QAAU,MAAM,MAAM,KAAK,aAC5D,MAAM;QACT,eAAe,WACZ,MAAM,CACL,CAAC,QAAU,MAAM,SAAS,KAAK,UAAU,MAAM,MAAM,KAAK,aAE3D,MAAM,CAAC,CAAC,KAAK,QAAU,MAAM,MAAM,MAAM,EAAE;QAC9C,eACE,SAAS,MAAM,GAAG,IACd,SAAS,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,MAAM,EAAE,KAAK,SAAS,MAAM,GACpE;IACR;AACF;AAEO,MAAM,oBAAoB,OAAO,QAAgB;IACtD,gDAAgD;IAChD,QAAQ,GAAG,CAAC,0BAA0B,QAAQ;IAC9C,OAAO;QAAE,GAAG,OAAO;QAAE,IAAI;IAAO;AAClC;AAEO,MAAM,YAAY,OAAO;IAC9B,MAAM,SAAS;QACb,GAAG,OAAO;QACV,IAAI,KAAK,GAAG,GAAG,QAAQ;QACvB,YAAY,IAAI,OAAO,WAAW;QAClC,YAAY,IAAI,OAAO,WAAW;QAClC,QAAQ;QACR,SAAS;IACX;IACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,QACL,MAAM,CAAC,QACP,MAAM,GACN,MAAM;IAET,IAAI,OAAO,MAAM;IACjB,OAAO;AACT;AAEO,MAAM,YAAY,OAAO,OAAe;IAC7C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,oHAAQ,CACnC,IAAI,CAAC,QACL,MAAM,CAAC;QAAE,GAAG,OAAO;QAAE,YAAY,IAAI,OAAO,WAAW;IAAG,GAC1D,EAAE,CAAC,MAAM,OACT,MAAM,GACN,MAAM;IAET,IAAI,OAAO,MAAM;IACjB,OAAO;AACT"}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/context/NotificationContext.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useContext,\n  ReactNode,\n  useState,\n  useEffect,\n} from \"react\";\nimport { useAuth } from \"./AuthContext\";\nimport { getNotifications, markNotificationAsRead } from \"../api/mockApi\";\n\ninterface Notification {\n  id: string;\n  type: \"order\" | \"message\" | \"system\" | \"payment\";\n  title: string;\n  message: string;\n  read: boolean;\n  createdAt: string;\n  actionUrl?: string;\n}\n\ninterface NotificationContextType {\n  notifications: Notification[];\n  unreadCount: number;\n  isLoading: boolean;\n  error: string | null;\n  showNotifications: boolean;\n  addNotification: (\n    notification: Omit<Notification, \"id\" | \"read\" | \"createdAt\">,\n  ) => void;\n  markAsRead: (notificationId: string) => Promise<void>;\n  markAllAsRead: () => Promise<void>;\n  deleteNotification: (notificationId: string) => Promise<void>;\n  toggleNotifications: () => void;\n  clearError: () => void;\n}\n\nconst NotificationContext = createContext<NotificationContextType | undefined>(\n  undefined,\n);\n\nexport const NotificationProvider: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const { user } = useAuth();\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showNotifications, setShowNotifications] = useState(false);\n\n  const unreadCount = notifications.filter((n) => !n.read).length;\n\n  // Load notifications when user changes\n  useEffect(() => {\n    if (user) {\n      loadNotifications();\n    } else {\n      setNotifications([]);\n    }\n  }, [user]);\n\n  const loadNotifications = async () => {\n    if (!user) return;\n\n    try {\n      setIsLoading(true);\n      setError(null);\n      const data = await getNotifications(user.id);\n      setNotifications(data as Notification[]);\n    } catch (err) {\n      console.error(\"Error loading notifications:\", err);\n      setError(\"Failed to load notifications\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const addNotification = (\n    notificationData: Omit<Notification, \"id\" | \"read\" | \"createdAt\">,\n  ) => {\n    const newNotification: Notification = {\n      ...notificationData,\n      id: Date.now().toString(),\n      read: false,\n      createdAt: new Date().toISOString(),\n    };\n\n    setNotifications((prev) => [newNotification, ...prev]);\n\n    // In a real app, you would also save this to the database\n    console.log(\"New notification added:\", newNotification);\n  };\n\n  const markAsRead = async (notificationId: string) => {\n    try {\n      await markNotificationAsRead(notificationId);\n      setNotifications((prev) =>\n        prev.map((n) => (n.id === notificationId ? { ...n, read: true } : n)),\n      );\n    } catch (err) {\n      console.error(\"Error marking notification as read:\", err);\n      setError(\"Failed to mark notification as read\");\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      const unreadIds = notifications.filter((n) => !n.read).map((n) => n.id);\n      await Promise.all(unreadIds.map((id) => markNotificationAsRead(id)));\n\n      setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n    } catch (err) {\n      console.error(\"Error marking all notifications as read:\", err);\n      setError(\"Failed to mark all notifications as read\");\n    }\n  };\n\n  const deleteNotification = async (notificationId: string) => {\n    try {\n      // In a real app, you would delete from the database\n      setNotifications((prev) => prev.filter((n) => n.id !== notificationId));\n    } catch (err) {\n      console.error(\"Error deleting notification:\", err);\n      setError(\"Failed to delete notification\");\n    }\n  };\n\n  const toggleNotifications = () => {\n    setShowNotifications((prev) => !prev);\n  };\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  return (\n    <NotificationContext.Provider\n      value={{\n        notifications,\n        unreadCount,\n        isLoading,\n        error,\n        showNotifications,\n        addNotification,\n        markAsRead,\n        markAllAsRead,\n        deleteNotification,\n        toggleNotifications,\n        clearError,\n      }}\n    >\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useNotifications must be used within a NotificationProvider\",\n    );\n  }\n  return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 949, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/context/AppContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, ReactNode } from \"react\";\n\ninterface AppContextType {\n  gigs: any[];\n  setGigs: (gigs: any[]) => void;\n  messages: any[];\n  setMessages: (messages: any[]) => void;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nexport const AppProvider: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const [gigs, setGigs] = useState<any[]>([]);\n  const [messages, setMessages] = useState<any[]>([]);\n\n  return (\n    <AppContext.Provider value={{ gigs, setGigs, messages, setMessages }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (context === undefined) {\n    throw new Error(\"useApp must be used within an AppProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAAA;;;AASA,MAAM,2BAAa,IAAA,oHAAa,EAA6B;AAEtD,MAAM,cAAiD,CAAC,EAC7D,QAAQ,EACT;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAQ,EAAE;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAQ,EAAE;IAElD,qBACE,qKAAC,WAAW,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAU;QAAY;kBAChE;;;;;;AAGP;AAEO,MAAM,SAAS;IACpB,MAAM,UAAU,IAAA,iHAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 988, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/components/RoleSelector.tsx"],"sourcesContent":["import React from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst RoleSelector: React.FC = () => {\n  const { updateUserRole } = useAuth();\n\n  const handleRoleSelect = (role: \"freelancer\" | \"client\") => {\n    updateUserRole(role);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-md w-full p-8\">\n        <div className=\"text-center mb-8\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            –¢–∞–Ω—ã “Ø“Ø—Ä—ç–≥ —Å–æ–Ω–≥–æ—Ö\n          </h2>\n          <p className=\"text-gray-600\">\n            –¢–∞ freelancer “Ø“Ø —ç—Å–≤—ç–ª “Ø–π–ª—á–ª“Ø“Ø–ª—ç–≥—á “Ø“Ø?\n          </p>\n        </div>\n\n        <div className=\"space-y-4\">\n          <button\n            onClick={() => handleRoleSelect(\"freelancer\")}\n            className=\"w-full p-6 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors group\"\n          >\n            <div className=\"text-center\">\n              <div className=\"text-4xl mb-3\">üíº</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                Freelancer\n              </h3>\n              <p className=\"text-gray-600 text-sm\">\n                –ë–∏ “Ø–π–ª—á–∏–ª–≥—ç—ç “Ø–∑“Ø“Ø–ª—ç–≥—á –±–∞–π–Ω–∞. ”®”©—Ä–∏–π–Ω —É—Ä —á–∞–¥–≤–∞—Ä–∞–∞ –∑–∞—Ä–∂, –∞–∂–∏–ª\n                —Ö–∏–π–Ω—ç.\n              </p>\n            </div>\n          </button>\n\n          <button\n            onClick={() => handleRoleSelect(\"client\")}\n            className=\"w-full p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors group\"\n          >\n            <div className=\"text-center\">\n              <div className=\"text-4xl mb-3\">üë§</div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                “Æ–π–ª—á–ª“Ø“Ø–ª—ç–≥—á\n              </h3>\n              <p className=\"text-gray-600 text-sm\">\n                –ë–∏ “Ø–π–ª—á–∏–ª–≥—ç—ç —Ö–∞–π–∂ –±–∞–π–Ω–∞. Freelancer-“Ø“Ø–¥—ç—ç—Å –∞–∂–∏–ª –∑–∞—Ö–∏–∞–ª–Ω–∞.\n              </p>\n            </div>\n          </button>\n        </div>\n\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-xs text-gray-500\">\n            –¢–∞ “Ø“Ø—Ä—ç–≥—ç—ç —Ö“Ø—Å—Å—ç–Ω “Ø–µ–¥—ç—ç –ø—Ä–æ—Ñ–∞–π–ª —Ö—ç—Å–≥—ç—ç—Å ”©”©—Ä—á–ª”©—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RoleSelector;\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,MAAM,eAAyB;IAC7B,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,2HAAO;IAElC,MAAM,mBAAmB,CAAC;QACxB,eAAe;IACjB;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,qKAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAK/B,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BACC,SAAS,IAAM,iBAAiB;4BAChC,WAAU;sCAEV,cAAA,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,qKAAC;wCAAG,WAAU;kDAA2C;;;;;;kDAGzD,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;sCAOzC,qKAAC;4BACC,SAAS,IAAM,iBAAiB;4BAChC,WAAU;sCAEV,cAAA,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAI,WAAU;kDAAgB;;;;;;kDAC/B,qKAAC;wCAAG,WAAU;kDAA2C;;;;;;kDAGzD,qKAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;8BAO3C,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAO/C;uCAEe"}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///Users/khangaijagaa/Documents/projects/white-market/pages/_app.tsx"],"sourcesContent":["import \"@/styles/globals.css\";\nimport type { AppProps } from \"next/app\";\nimport { ClerkProvider } from \"@clerk/nextjs\";\nimport { AuthProvider, useAuth } from \"@/context/AuthContext\";\nimport { NotificationProvider } from \"@/context/NotificationContext\";\nimport { AppProvider } from \"@/context/AppContext\";\nimport RoleSelector from \"@/components/RoleSelector\";\n\nfunction AppContent({ Component, pageProps, router }: AppProps) {\n  const { user, userRole, isLoading } = useAuth();\n\n  // Show role selector if user is logged in but hasn't selected a role\n  if (user && userRole === null && !isLoading) {\n    return <RoleSelector />;\n  }\n\n  return <Component {...pageProps} />;\n}\n\nexport default function App(appProps: AppProps) {\n  return (\n    <ClerkProvider>\n      <AuthProvider>\n        <NotificationProvider>\n          <AppProvider>\n            <AppContent {...appProps} />\n          </AppProvider>\n        </NotificationProvider>\n      </AuthProvider>\n    </ClerkProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,EAAY;IAC5D,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAA,2HAAO;IAE7C,qEAAqE;IACrE,IAAI,QAAQ,aAAa,QAAQ,CAAC,WAAW;QAC3C,qBAAO,qKAAC,+HAAY;;;;;IACtB;IAEA,qBAAO,qKAAC;QAAW,GAAG,SAAS;;;;;;AACjC;AAEe,SAAS,IAAI,QAAkB;IAC5C,qBACE,qKAAC,mLAAa;kBACZ,cAAA,qKAAC,gIAAY;sBACX,cAAA,qKAAC,gJAAoB;0BACnB,cAAA,qKAAC,8HAAW;8BACV,cAAA,qKAAC;wBAAY,GAAG,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC"}}]
}